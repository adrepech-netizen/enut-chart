<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Medias Ponderadas de Horas de Trabajo (ENUT)</title>
    <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
    <style>
        body { font-family: 'Open Sans', sans-serif; margin: 20px; }
        .plotly-graph-div { margin: auto; max-width: 90%; }
    </style>
</head>
<body>
    <div id="plotly-graph"></div>
    <script>
        var data = [
            {
                x: ["Aguascalientes", "Baja California", "Baja California Sur", "Campeche", "Coahuila", "Colima", "Chiapas", "Chihuahua", "Ciudad de México", "Durango", "Guanajuato", "Guerrero", "Hidalgo", "Jalisco", "México", "Michoacán", "Morelos", "Nayarit", "Nuevo León", "Oaxaca", "Puebla", "Querétaro", "Quintana Roo", "San Luis Potosí", "Sinaloa", "Sonora", "Tabasco", "Tamaulipas", "Tlaxcala", "Veracruz", "Yucatán", "Zacatecas"],
                y: [60.612278, 56.639301, 62.648933, 58.267727, 60.609001, 61.810463, 58.576077, 54.445137, 59.76762, 64.071907, 57.620647, 60.171589, 65.560165, 58.124298, 58.639942, 60.160568, 58.368225, 57.188675, 61.284981, 59.771526, 62.369919, 64.175453, 62.76123, 60.400585, 55.665188, 59.632973, 60.520378, 57.425404, 63.224617, 60.905773, 59.88813, 59.222832],
                name: 'Media por Entidad',
                type: 'bar',
                marker: { color: '#1f77b4' },
                visible: true
            },
            {
                x: ["Mujeres", "Hombres", "TOTAL SEXO"],
                y: [61.096561, 57.953423, 59.63578],
                name: 'Media Nacional por Sexo',
                type: 'bar',
                marker: { color: ['#2ca02c', '#ff7f0e', '#d62728'] }, /* Colores ajustados para diferenciar */
                visible: false
            }
        ];

        var layout = {
            title: 'Media Ponderada de Horas de Trabajo (ENUT)',
            xaxis: { title: 'Grupo de Análisis' },
            yaxis: { title: 'Media de Horas de Trabajo', range: [50, 70] },
            updatemenus: [
                {
                    buttons: [
                        {
                            label: 'Media por Entidad Federativa',
                            method: 'update',
                            args: [
                                { 'visible': [true, false] }, // Mostrar Traza 0 (Entidad), Ocultar Traza 1 (Sexo)
                                { 'title': 'Media Ponderada por Entidad Federativa' }
                            ]
                        },
                        {
                            label: 'Media Nacional por Sexo',
                            method: 'update',
                            args: [
                                { 'visible': [false, true] }, // Ocultar Traza 0 (Entidad), Mostrar Traza 1 (Sexo)
                                { 'title': 'Media Ponderada Nacional por Sexo' }
                            ]
                        }
                    ],
                    direction: 'down',
                    showactive: true,
                    x: 0.1,
                    xanchor: 'left',
                    y: 1.1,
                    yanchor: 'top'
                }
            ],
            hovermode: "x unified"
        };

        Plotly.newPlot('plotly-graph', data, layout);
    </script>
</body>
</html>
